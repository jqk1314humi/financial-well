<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DZCHY稳定币购买</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#00A6ED',
                        secondary: '#0066FF',
                        accent: '#3D5AFE',
                        dark: '#121826',
                        light: '#F5F9FF',
                        success: '#00E676',
                        warning: '#FFAB00',
                        danger: '#FF3D00',
                    },
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                    },
                    boxShadow: {
                        'glow': '0 0 15px rgba(0, 166, 237, 0.5)',
                        'glow-lg': '0 0 25px rgba(0, 166, 237, 0.7)',
                    }
                },
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-gradient {
                background-clip: text;
                -webkit-background-clip: text;
                color: transparent;
            }
            .bg-grid {
                background-image: 
                    linear-gradient(rgba(0, 166, 237, 0.1) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(0, 166, 237, 0.1) 1px, transparent 1px);
                background-size: 20px 20px;
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .animate-float {
                animation: float 6s ease-in-out infinite;
            }
            .animate-pulse-slow {
                animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            }
            @keyframes float {
                0% { transform: translateY(0px); }
                50% { transform: translateY(-20px); }
                100% { transform: translateY(0px); }
            }
        }
    </style>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0A0E17;
            color: #FFFFFF;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(0, 166, 237, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(61, 90, 254, 0.1) 0%, transparent 50%);
            background-attachment: fixed;
        }
        .glass-effect {
            background: rgba(18, 24, 38, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .btn-hover {
            transition: all 0.3s ease;
        }
        .btn-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 20px rgba(0, 166, 237, 0.6);
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 166, 237, 0.3);
        }
        .shine {
            position: relative;
            overflow: hidden;
        }
        .shine::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to right, 
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.2) 50%,
                rgba(255, 255, 255, 0) 100%
            );
            transform: rotate(30deg);
            animation: shineAnimation 6s infinite;
        }
        @keyframes shineAnimation {
            0% { transform: translateX(-100%) rotate(30deg); }
            100% { transform: translateX(100%) rotate(30deg); }
        }
        .number-animation {
            transition: all 0.5s ease;
        }
        .pulse-border {
            animation: pulse-border 2s infinite;
        }
        @keyframes pulse-border {
            0%, 100% { border-color: rgba(0, 166, 237, 0.5); }
            50% { border-color: rgba(0, 166, 237, 1); }
        }
    </style>
</head>
<body>
    <!-- 加载动画 -->
    <div id="loader" class="fixed inset-0 z-50 flex items-center justify-center bg-dark transition-opacity duration-500">
        <div class="relative">
            <div class="w-20 h-20 border-4 border-primary/30 border-t-primary rounded-full animate-spin"></div>
            <div class="absolute inset-0 flex items-center justify-center">
                <span class="text-xl font-bold text-gradient bg-gradient-to-r from-primary to-accent">DZCHY</span>
            </div>
        </div>
    </div>

    <!-- 导航栏 -->
    <nav id="navbar" class="fixed top-0 left-0 right-0 z-40 glass-effect transition-all duration-300">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <div class="w-10 h-10 rounded-full bg-gradient-to-r from-primary to-accent flex items-center justify-center">
                    <i class="fa fa-link text-white text-xl"></i>
                </div>
                <h1 class="text-2xl font-bold text-gradient bg-gradient-to-r from-primary to-accent">DZCHY</h1>
            </div>

            <!-- 桌面导航 -->
            <div class="hidden md:flex items-center space-x-8">
                <a href="#home" class="text-white hover:text-primary transition-colors">首页</a>
                <a href="#features" class="text-white hover:text-primary transition-colors">功能</a>
                <a href="#pricing" class="text-white hover:text-primary transition-colors">购买</a>
                <a href="#about" class="text-white hover:text-primary transition-colors">关于我们</a>
            </div>

            <div class="flex items-center space-x-4">
                <button id="wallet-btn" class="hidden md:flex items-center space-x-2 px-4 py-2 rounded-full glass-effect hover:bg-primary/20 transition-colors">
                    <i class="fa fa-wallet"></i>
                    <span id="wallet-balance">0 DZCHY</span>
                </button>
                <button id="login-btn" class="px-6 py-2 rounded-full bg-primary hover:bg-primary/90 text-white font-medium btn-hover">登录</button>
                <button id="signup-btn" class="hidden px-6 py-2 rounded-full glass-effect border border-primary text-primary hover:bg-primary/20 font-medium btn-hover">注册</button>
                <button id="logout-btn" class="hidden px-6 py-2 rounded-full glass-effect border border-danger text-danger hover:bg-danger/20 font-medium btn-hover">退出</button>
                <!-- 移动端菜单按钮 -->
                <button id="mobile-menu-btn" class="md:hidden text-white text-xl">
                    <i class="fa fa-bars"></i>
                </button>
            </div>
        </div>

        <!-- 移动端导航菜单 -->
        <div id="mobile-menu" class="hidden md:hidden glass-effect border-t border-white/10">
            <div class="container mx-auto px-4 py-4 flex flex-col space-y-4">
                <a href="#home" class="text-white hover:text-primary transition-colors py-2">首页</a>
                <a href="#features" class="text-white hover:text-primary transition-colors py-2">功能</a>
                <a href="#pricing" class="text-white hover:text-primary transition-colors py-2">购买</a>
                <a href="#about" class="text-white hover:text-primary transition-colors py-2">关于我们</a>
                <button id="mobile-wallet-btn" class="flex items-center space-x-2 px-4 py-2 rounded-full glass-effect hover:bg-primary/20 transition-colors">
                    <i class="fa fa-wallet"></i>
                    <span id="mobile-wallet-balance">0 DZCHY</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- 主要内容区域 -->
    <main class="pt-20">
        <!-- 英雄区域 -->
        <section id="home" class="min-h-[90vh] flex flex-col justify-center items-center relative overflow-hidden">
            <div class="absolute inset-0 bg-grid opacity-20"></div>
            <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] rounded-full bg-primary/5 blur-[100px]"></div>
            
            <div class="container mx-auto px-4 z-10">
                <div class="flex flex-col md:flex-row items-center justify-between">
                    <div class="md:w-1/2 text-center md:text-left mb-10 md:mb-0">
                        <h2 class="text-[clamp(2.5rem,5vw,4rem)] font-bold leading-tight mb-4">
                            <span class="text-gradient bg-gradient-to-r from-primary to-accent">DZCHY</span> 稳定币
                        </h2>
                        <p class="text-[clamp(1rem,2vw,1.25rem)] text-white/80 mb-8">
                            基于区块链技术的稳定价值代币，1:1锚定人民币，安全、透明、便捷的数字资产解决方案。
                        </p>
                        <div class="flex flex-col sm:flex-row items-center justify-center md:justify-start space-y-4 sm:space-y-0 sm:space-x-4">
                            <button id="buy-now-btn" class="w-full sm:w-auto px-8 py-4 rounded-full bg-gradient-to-r from-primary to-accent text-white font-bold text-lg btn-hover">
                                立即购买
                            </button>
                            <button id="learn-more-btn" class="w-full sm:w-auto px-8 py-4 rounded-full glass-effect border border-white/20 text-white font-bold text-lg btn-hover">
                                了解更多
                            </button>
                        </div>
                        <div class="mt-8 flex items-center justify-center md:justify-start space-x-8">
                            <div class="text-center">
                                <div class="text-3xl font-bold text-gradient bg-gradient-to-r from-primary to-accent">1:1</div>
                                <div class="text-sm text-white/70">锚定人民币</div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl font-bold text-gradient bg-gradient-to-r from-primary to-accent">安全</div>
                                <div class="text-sm text-white/70">区块链技术</div>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl font-bold text-gradient bg-gradient-to-r from-primary to-accent">透明</div>
                                <div class="text-sm text-white/70">公开审计</div>
                            </div>
                        </div>
                    </div>
                    <div class="md:w-1/2 relative">
                        <div class="w-full max-w-md mx-auto glass-effect p-8 rounded-2xl pulse-border">
                            <h3 class="text-2xl font-bold mb-6 text-center">DZCHY 价格</h3>
                            <div class="text-center mb-8">
                                <div id="dzchy-price" class="text-5xl font-bold text-gradient bg-gradient-to-r from-primary to-accent">¥1.00</div>
                                <div class="text-green-400 mt-2"><i class="fa fa-arrow-up"></i> 0.00%</div>
                            </div>
                            <div class="grid grid-cols-2 gap-4 mb-6">
                                <div class="glass-effect p-4 rounded-xl">
                                    <div class="text-sm text-white/70">24小时成交量</div>
                                    <div class="text-xl font-bold">¥1,234,567</div>
                                </div>
                                <div class="glass-effect p-4 rounded-xl">
                                    <div class="text-sm text-white/70">总市值</div>
                                    <div class="text-xl font-bold">¥10,000,000</div>
                                </div>
                            </div>
                            <div class="flex flex-col space-y-4">
                                <button id="quick-buy-btn" class="w-full py-3 rounded-lg bg-primary hover:bg-primary/90 text-white font-bold btn-hover">
                                    快速购买
                                </button>
                                <button id="view-chart-btn" class="w-full py-3 rounded-lg glass-effect border border-white/20 text-white font-bold btn-hover">
                                    查看图表
                                </button>
                            </div>
                        </div>
                        <div class="absolute -bottom-10 -right-10 w-40 h-40 bg-accent/20 rounded-full blur-2xl"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 功能区域 -->
        <section id="features" class="py-20 relative">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-[clamp(2rem,4vw,3rem)] font-bold mb-4">核心功能</h2>
                    <p class="text-xl text-white/70 max-w-2xl mx-auto">
                        安全、便捷、高效的数字资产解决方案，为您提供全方位的稳定币服务
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- 功能卡片 1 -->
                    <div class="glass-effect p-8 rounded-2xl card-hover">
                        <div class="w-14 h-14 rounded-full bg-primary/20 flex items-center justify-center mb-6">
                            <i class="fa fa-shield text-2xl text-primary"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-3">安全可靠</h3>
                        <p class="text-white/70">
                            基于区块链技术，多重加密保障，确保您的资产安全。所有交易记录公开透明，可追溯。
                        </p>
                    </div>

                    <!-- 功能卡片 2 -->
                    <div class="glass-effect p-8 rounded-2xl card-hover">
                        <div class="w-14 h-14 rounded-full bg-accent/20 flex items-center justify-center mb-6">
                            <i class="fa fa-bolt text-2xl text-accent"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-3">即时交易</h3>
                        <p class="text-white/70">
                            快速处理交易请求，实时到账，无需等待。1:1锚定人民币，价值稳定，避免市场波动风险。
                        </p>
                    </div>

                    <!-- 功能卡片 3 -->
                    <div class="glass-effect p-8 rounded-2xl card-hover">
                        <div class="w-14 h-14 rounded-full bg-success/20 flex items-center justify-center mb-6">
                            <i class="fa fa-wallet text-2xl text-success"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-3">数字钱包</h3>
                        <p class="text-white/70">
                            内置数字钱包，方便管理您的DZCHY资产。实时查看余额、交易记录，支持随时充提。
                        </p>
                    </div>

                    <!-- 功能卡片 4 -->
                    <div class="glass-effect p-8 rounded-2xl card-hover">
                        <div class="w-14 h-14 rounded-full bg-warning/20 flex items-center justify-center mb-6">
                            <i class="fa fa-lock text-2xl text-warning"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-3">权限控制</h3>
                        <p class="text-white/70">
                            严格的用户权限管理，确保只有已认证用户才能进行交易操作，保障账户安全。
                        </p>
                    </div>

                    <!-- 功能卡片 5 -->
                    <div class="glass-effect p-8 rounded-2xl card-hover">
                        <div class="w-14 h-14 rounded-full bg-danger/20 flex items-center justify-center mb-6">
                            <i class="fa fa-line-chart text-2xl text-danger"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-3">市场数据分析</h3>
                        <p class="text-white/70">
                            提供实时市场数据和图表分析，帮助您了解DZCHY的价格走势和市场表现。
                        </p>
                    </div>

                    <!-- 功能卡片 6 -->
                    <div class="glass-effect p-8 rounded-2xl card-hover">
                        <div class="w-14 h-14 rounded-full bg-primary/20 flex items-center justify-center mb-6">
                            <i class="fa fa-mobile text-2xl text-primary"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-3">全平台支持</h3>
                        <p class="text-white/70">
                            支持PC端和移动端，随时随地管理您的资产，进行交易操作，享受便捷服务。
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 购买区域 -->
        <section id="pricing" class="py-20 relative bg-dark">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-[clamp(2rem,4vw,3rem)] font-bold mb-4">购买 DZCHY</h2>
                    <p class="text-xl text-white/70 max-w-2xl mx-auto">
                        简单几步，即可拥有稳定可靠的数字资产，1人民币 = 1 DZCHY
                    </p>
                </div>

                <div class="max-w-3xl mx-auto glass-effect p-8 rounded-2xl">
                    <form id="buy-form" class="space-y-6">
                        <div class="space-y-2">
                            <label for="amount" class="block text-sm font-medium text-white/80">购买数量 (DZCHY)</label>
                            <input type="number" id="amount" class="w-full px-4 py-3 rounded-lg glass-effect border border-white/10 bg-white/5 text-white focus:border-primary focus:ring-2 focus:ring-primary/30 outline-none transition-all" placeholder="请输入购买数量" min="1" step="1">
                        </div>

                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-white/80">应付金额 (CNY)</label>
                            <div class="w-full px-4 py-3 rounded-lg glass-effect border border-white/10 bg-white/5 text-white">
                                <span id="total-amount">0.00</span> 元
                            </div>
                        </div>

                        <div class="pt-4">
                            <button type="submit" id="confirm-buy-btn" class="w-full py-4 rounded-lg bg-gradient-to-r from-primary to-accent text-white font-bold text-lg btn-hover">
                                确认购买
                            </button>
                        </div>
                    </form>

                    <div class="mt-8 pt-8 border-t border-white/10">
                        <h3 class="text-lg font-bold mb-4">快捷购买</h3>
                        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
                            <button class="quick-amount-btn py-2 rounded-lg glass-effect border border-white/10 text-white hover:bg-primary/20 hover:border-primary transition-all">10</button>
                            <button class="quick-amount-btn py-2 rounded-lg glass-effect border border-white/10 text-white hover:bg-primary/20 hover:border-primary transition-all">50</button>
                            <button class="quick-amount-btn py-2 rounded-lg glass-effect border border-white/10 text-white hover:bg-primary/20 hover:border-primary transition-all">100</button>
                            <button class="quick-amount-btn py-2 rounded-lg glass-effect border border-white/10 text-white hover:bg-primary/20 hover:border-primary transition-all">500</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 钱包功能板块 -->
        <section id="wallet" class="py-20 relative overflow-hidden">
            <div class="absolute inset-0 bg-grid opacity-20"></div>
            <div class="container mx-auto px-4">
                <div class="text-center mb-16">
                    <h2 class="text-4xl md:text-5xl font-bold mb-4">我的钱包</h2>
                    <p class="text-white/70 max-w-2xl mx-auto">管理您的数字资产，进行稳定币兑换，随时随地查看交易记录。</p>
                </div>

                <!-- 钱包余额卡片 -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16" id="wallet-balance-cards">
                    <div class="glass-effect p-8 rounded-2xl card-hover">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="text-sm text-white/70">DZCNY 余额</h3>
                                <p class="text-3xl font-bold" id="wallet-dzcny-balance">0.00</p>
                            </div>
                            <div class="w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center">
                                <i class="fa fa-money text-primary text-xl"></i>
                            </div>
                        </div>
                        <div class="flex justify-between items-center pt-4 border-t border-white/10">
                            <span class="text-white/50 text-sm">今日变动</span>
                            <span class="text-success text-sm">+0.00</span>
                        </div>
                    </div>
                    <div class="glass-effect p-8 rounded-2xl card-hover">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="text-sm text-white/70">USDT 余额</h3>
                                <p class="text-3xl font-bold" id="wallet-usdt-balance">0.00</p>
                            </div>
                            <div class="w-12 h-12 rounded-full bg-accent/20 flex items-center justify-center">
                                <i class="fa fa-dollar text-accent text-xl"></i>
                            </div>
                        </div>
                        <div class="flex justify-between items-center pt-4 border-t border-white/10">
                            <span class="text-white/50 text-sm">今日变动</span>
                            <span class="text-success text-sm">+0.00</span>
                        </div>
                    </div>
                    <div class="glass-effect p-8 rounded-2xl card-hover">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="text-sm text-white/70">USDC 余额</h3>
                                <p class="text-3xl font-bold" id="wallet-usdc-balance">0.00</p>
                            </div>
                            <div class="w-12 h-12 rounded-full bg-secondary/20 flex items-center justify-center">
                                <i class="fa fa-credit-card text-secondary text-xl"></i>
                            </div>
                        </div>
                        <div class="flex justify-between items-center pt-4 border-t border-white/10">
                            <span class="text-white/50 text-sm">今日变动</span>
                            <span class="text-success text-sm">+0.00</span>
                        </div>
                    </div>
                </div>

                <!-- 稳定币兑换 -->
                <div class="glass-effect p-8 rounded-2xl mb-16">
                    <h3 class="text-2xl font-bold mb-6">稳定币兑换</h3>
                    <form id="exchange-form" class="space-y-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="space-y-4">
                                <label class="block text-white/70">兑换自</label>
                                <div class="flex items-center space-x-2">
                                    <div class="flex-1">
                                        <input type="number" step="0.01" id="from-amount" class="w-full px-4 py-3 rounded-lg glass-effect border border-white/10 bg-white/5 text-white focus:border-primary focus:ring-2 focus:ring-primary/30 outline-none transition-all" placeholder="输入金额">
                                    </div>
                                    <div class="relative">
                                        <select id="from-currency" class="appearance-none px-4 py-3 rounded-lg glass-effect border border-white/10 bg-white/5 text-white focus:border-primary focus:ring-2 focus:ring-primary/30 outline-none transition-all pr-10">
                                            <option value="DZCNY">DZCNY</option>
                                            <option value="USDT">USDT</option>
                                            <option value="USDC">USDC</option>
                                        </select>
                                        <div class="absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none text-white/70">
                                            <i class="fa fa-chevron-down"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="space-y-4">
                                <label class="block text-white/70">兑换至</label>
                                <div class="flex items-center space-x-2">
                                    <div class="flex-1">
                                        <input type="number" step="0.000001" id="to-amount" class="w-full px-4 py-3 rounded-lg glass-effect border border-white/10 bg-white/5 text-white focus:border-primary focus:ring-2 focus:ring-primary/30 outline-none transition-all" placeholder="兑换金额" readonly>
                                    </div>
                                    <div class="relative">
                                        <select id="to-currency" class="appearance-none px-4 py-3 rounded-lg glass-effect border border-white/10 bg-white/5 text-white focus:border-primary focus:ring-2 focus:ring-primary/30 outline-none transition-all pr-10">
                                            <option value="USDT">USDT</option>
                                            <option value="USDC">USDC</option>
                                            <option value="DZCNY">DZCNY</option>
                                        </select>
                                        <div class="absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none text-white/70">
                                            <i class="fa fa-chevron-down"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="text-center text-white/70 text-sm mb-6">
                            <span id="exchange-rate">当前汇率: 1 DZCNY = 0.1405 USDT / 7.39 USDC</span>
                        </div>
                        <button type="submit" id="exchange-submit" class="w-full py-4 rounded-lg bg-gradient-to-r from-primary to-accent text-white font-bold btn-hover">
                            立即兑换
                        </button>
                    </form>
                </div>

                <!-- 交易记录 -->
                <div class="glass-effect p-8 rounded-2xl">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-2xl font-bold">最近交易</h3>
                        <div class="text-sm text-white/70">
                            <select id="transaction-filter" class="px-3 py-1 rounded-lg glass-effect border border-white/10 bg-white/5 text-white focus:border-primary focus:ring-2 focus:ring-primary/30 outline-none transition-all">
                                <option value="all">全部交易</option>
                                <option value="buy">购买</option>
                                <option value="recharge">充值</option>
                                <option value="withdraw">提现</option>
                                <option value="exchange">兑换</option>
                            </select>
                        </div>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr class="border-b border-white/10">
                                    <th class="py-3 px-4 text-left text-white/70">时间</th>
                                    <th class="py-3 px-4 text-left text-white/70">类型</th>
                                    <th class="py-3 px-4 text-left text-white/70">描述</th>
                                    <th class="py-3 px-4 text-right text-white/70">金额</th>
                                    <th class="py-3 px-4 text-right text-white/70">状态</th>
                                </tr>
                            </thead>
                            <tbody id="transaction-history">
                                <!-- 交易记录将通过JavaScript动态添加 -->
                                <tr>
                                    <td colspan="5" class="py-8 text-center text-white/50">暂无交易记录</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="py-10 glass-effect border-t border-white/10">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center space-x-2 mb-6 md:mb-0">
                    <div class="w-8 h-8 rounded-full bg-gradient-to-r from-primary to-accent flex items-center justify-center">
                        <i class="fa fa-link text-white text-sm"></i>
                    </div>
                    <h2 class="text-xl font-bold text-gradient bg-gradient-to-r from-primary to-accent">DZCHY</h2>
                </div>
                <div class="flex flex-wrap justify-center space-x-6 mb-6 md:mb-0">
                    <a href="#home" class="text-white/70 hover:text-primary transition-colors mb-2 md:mb-0">首页</a>
                    <a href="#features" class="text-white/70 hover:text-primary transition-colors mb-2 md:mb-0">功能</a>
                    <a href="#pricing" class="text-white/70 hover:text-primary transition-colors mb-2 md:mb-0">购买</a>
                    <a href="#about" class="text-white/70 hover:text-primary transition-colors mb-2 md:mb-0">关于我们</a>
                    <a href="#" class="text-white/70 hover:text-primary transition-colors mb-2 md:mb-0">隐私政策</a>
                    <a href="#" class="text-white/70 hover:text-primary transition-colors mb-2 md:mb-0">服务条款</a>
                </div>
                <div class="text-white/50 text-sm">
                    © 2023 DZCHY. All rights reserved.
                </div>
            </div>
        </div>
    </footer>

    <!-- 模态框 - 登录 -->
    <div id="login-modal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/70">
        <div class="glass-effect w-full max-w-md mx-4 p-8 rounded-2xl relative">
            <button id="close-login-modal" class="absolute top-4 right-4 text-white/70 hover:text-white">
                <i class="fa fa-times text-xl"></i>
            </button>
            <h3 class="text-2xl font-bold mb-6 text-center">用户登录</h3>
            <form id="login-form" class="space-y-4">
                <div class="space-y-2">
                    <label for="login-username" class="block text-sm font-medium text-white/80">用户名</label>
                    <input type="text" id="login-username" class="w-full px-4 py-3 rounded-lg glass-effect border border-white/10 bg-white/5 text-white focus:border-primary focus:ring-2 focus:ring-primary/30 outline-none transition-all" placeholder="请输入用户名">
                </div>
                <div class="space-y-2">
                    <label for="login-password" class="block text-sm font-medium text-white/80">密码</label>
                    <input type="password" id="login-password" class="w-full px-4 py-3 rounded-lg glass-effect border border-white/10 bg-white/5 text-white focus:border-primary focus:ring-2 focus:ring-primary/30 outline-none transition-all" placeholder="请输入密码">
                </div>
                <div class="flex justify-between items-center">
                    <label class="flex items-center space-x-2 text-sm text-white/70">
                        <input type="checkbox" class="rounded border-white/30 bg-white/10 text-primary focus:ring-primary">
                        <span>记住我</span>
                    </label>
                    <a href="#" class="text-sm text-primary hover:underline">忘记密码？</a>
                </div>
                <div>
                    <button type="submit" class="w-full py-3 rounded-lg bg-gradient-to-r from-primary to-accent text-white font-bold btn-hover">
                        登录
                    </button>
                </div>
            </form>
            <div class="mt-6 text-center text-white/70 text-sm">
                还没有账号？ <button id="switch-to-signup" class="text-primary hover:underline">立即注册</button>
            </div>
        </div>
    </div>

    <!-- 模态框 - 注册 -->
    <div id="signup-modal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/70">
        <div class="glass-effect w-full max-w-md mx-4 p-8 rounded-2xl relative">
            <button id="close-signup-modal" class="absolute top-4 right-4 text-white/70 hover:text-white">
                <i class="fa fa-times text-xl"></i>
            </button>
            <h3 class="text-2xl font-bold mb-6 text-center">用户注册</h3>
            <form id="signup-form" class="space-y-4">
                <div class="space-y-2">
                    <label for="signup-username" class="block text-sm font-medium text-white/80">用户名</label>
                    <input type="text" id="signup-username" class="w-full px-4 py-3 rounded-lg glass-effect border border-white/10 bg-white/5 text-white focus:border-primary focus:ring-2 focus:ring-primary/30 outline-none transition-all" placeholder="请输入用户名">
                </div>
                <div class="space-y-2">
                    <label for="signup-email" class="block text-sm font-medium text-white/80">邮箱</label>
                    <input type="email" id="signup-email" class="w-full px-4 py-3 rounded-lg glass-effect border border-white/10 bg-white/5 text-white focus:border-primary focus:ring-2 focus:ring-primary/30 outline-none transition-all" placeholder="请输入邮箱">
                </div>
                <div class="space-y-2">
                    <label for="signup-password" class="block text-sm font-medium text-white/80">密码</label>
                    <input type="password" id="signup-password" class="w-full px-4 py-3 rounded-lg glass-effect border border-white/10 bg-white/5 text-white focus:border-primary focus:ring-2 focus:ring-primary/30 outline-none transition-all" placeholder="请设置密码">
                </div>
                <div class="space-y-2">
                    <label for="signup-confirm-password" class="block text-sm font-medium text-white/80">确认密码</label>
                    <input type="password" id="signup-confirm-password" class="w-full px-4 py-3 rounded-lg glass-effect border border-white/10 bg-white/5 text-white focus:border-primary focus:ring-2 focus:ring-primary/30 outline-none transition-all" placeholder="请再次输入密码">
                </div>
                <div class="flex items-center space-x-2 text-sm text-white/70">
                    <input type="checkbox" id="agree-terms" class="rounded border-white/30 bg-white/10 text-primary focus:ring-primary">
                    <label for="agree-terms">我已阅读并同意<a href="#" class="text-primary hover:underline">服务条款</a>和<a href="#" class="text-primary hover:underline">隐私政策</a></label>
                </div>
                <div>
                    <button type="submit" class="w-full py-3 rounded-lg bg-gradient-to-r from-primary to-accent text-white font-bold btn-hover">
                        注册
                    </button>
                </div>
            </form>
            <div class="mt-6 text-center text-white/70 text-sm">
                已有账号？ <button id="switch-to-login" class="text-primary hover:underline">立即登录</button>
            </div>
        </div>
    </div>

    <!-- 模态框 - 成功提示 -->
    <div id="success-modal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/70">
        <div class="glass-effect w-full max-w-md mx-4 p-8 rounded-2xl text-center">
            <div class="w-20 h-20 rounded-full bg-success/20 flex items-center justify-center mx-auto mb-6">
                <i class="fa fa-check text-4xl text-success"></i>
            </div>
            <h3 class="text-2xl font-bold mb-2" id="success-title">操作成功</h3>
            <p class="text-white/70 mb-6" id="success-message">您的操作已成功完成。</p>
            <button id="success-ok-btn" class="px-8 py-3 rounded-lg bg-gradient-to-r from-primary to-accent text-white font-bold btn-hover">
                确定
            </button>
        </div>
    </div>

    <!-- 模态框 - 钱包 -->
    <div id="wallet-modal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/70">
        <div class="glass-effect w-full max-w-2xl mx-4 p-8 rounded-2xl relative">
            <button id="close-wallet-modal" class="absolute top-4 right-4 text-white/70 hover:text-white">
                <i class="fa fa-times text-xl"></i>
            </button>
            <h3 class="text-2xl font-bold mb-6 text-center">我的钱包</h3>
            
            <div class="text-center mb-8">
                <div class="text-5xl font-bold text-gradient bg-gradient-to-r from-primary to-accent mb-2" id="modal-wallet-balance">0.00</div>
                <div class="text-white/70">DZCHY 余额</div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                <div class="glass-effect p-4 rounded-xl text-center">
                    <div class="text-sm text-white/70 mb-1">总资产 (CNY)</div>
                    <div class="text-xl font-bold" id="total-asset">0.00</div>
                </div>
                <div class="glass-effect p-4 rounded-xl text-center">
                    <div class="text-sm text-white/70 mb-1">累计充值</div>
                    <div class="text-xl font-bold" id="total-recharge">0.00</div>
                </div>
                <div class="glass-effect p-4 rounded-xl text-center">
                    <div class="text-sm text-white/70 mb-1">累计提现</div>
                    <div class="text-xl font-bold" id="total-withdraw">0.00</div>
                </div>
            </div>

            <div class="mb-8">
                <h4 class="text-lg font-bold mb-4">最近交易</h4>
                <div class="glass-effect rounded-xl overflow-hidden">
                    <div class="divide-y divide-white/10 max-h-60 overflow-y-auto scrollbar-hide" id="recent-transactions">
                        <!-- 交易记录将通过JavaScript动态添加 -->
                        <div class="p-4 text-center text-white/50">暂无交易记录</div>
                    </div>
                </div>
            </div>

            <div class="flex space-x-4">
                <button id="recharge-btn" class="flex-1 py-3 rounded-lg glass-effect border border-success text-success hover:bg-success/20 font-bold btn-hover">
                    <i class="fa fa-plus mr-2"></i> 充值
                </button>
                <button id="withdraw-btn" class="flex-1 py-3 rounded-lg glass-effect border border-danger text-danger hover:bg-danger/20 font-bold btn-hover">
                    <i class="fa fa-minus mr-2"></i> 提现
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript 功能实现 -->
    <script type="module">
        // 导入用户数据模块
        import { 
            registerUser, 
            loginUser, 
            getUserByUsername, 
            updateUser 
        } from './userData.js';
        
        // 钱包功能直接在页面中实现，避免模块导入问题
        
        // 存储钱包数据的键名
        const WALLET_DATA_KEY = 'dzchy_wallet_data';
        
        // 汇率设置
        const EXCHANGE_RATES = {
            DZCNY: {
                USDT: 7.12,  // 7.12 DZCNY = 1 USDT
                USDC: 1/7.39 // 1 DZCNY = 7.39 USDC
            },
            USDT: {
                DZCNY: 7.12  // 1 USDT = 7.12 DZCNY
            },
            USDC: {
                DZCNY: 7.39  // 1 USDC = 1/7.39 DZCNY
            }
        };
        
        // 初始化钱包数据存储
        function initWalletData() {
            // 检查localStorage中是否已有钱包数据
            if (!localStorage.getItem(WALLET_DATA_KEY)) {
                // 创建默认的空钱包数据对象
                const defaultWallet = {
                    wallets: []
                };
                // 保存到localStorage
                localStorage.setItem(WALLET_DATA_KEY, JSON.stringify(defaultWallet));
            }
        }
        
        // 获取用户的钱包信息
        function getUserWallet(username) {
            // 初始化钱包数据
            initWalletData();
            
            // 获取现有的钱包数据
            const walletData = JSON.parse(localStorage.getItem(WALLET_DATA_KEY));
            
            // 查找匹配的用户钱包
            let userWallet = walletData.wallets.find(wallet => wallet.username === username);
            
            // 如果用户没有钱包，创建一个新的
            if (!userWallet) {
                userWallet = {
                    username: username,
                    balances: {
                        DZCNY: 0,
                        USDT: 0,
                        USDC: 0
                    },
                    created: new Date().toISOString(),
                    lastUpdated: new Date().toISOString()
                };
                
                // 添加新钱包到钱包数据
                walletData.wallets.push(userWallet);
                
                // 保存更新后的钱包数据
                localStorage.setItem(WALLET_DATA_KEY, JSON.stringify(walletData));
            }
            
            // 确保所有币种都有余额字段
            if (!userWallet.balances) {
                userWallet.balances = {
                    DZCNY: userWallet.balance || 0,
                    USDT: 0,
                    USDC: 0
                };
                // 移除旧的balance字段
                delete userWallet.balance;
                delete userWallet.lockedBalance;
                userWallet.lastUpdated = new Date().toISOString();
                
                // 保存更新后的钱包数据
                localStorage.setItem(WALLET_DATA_KEY, JSON.stringify(walletData));
            } else if (!userWallet.balances.USDT || !userWallet.balances.USDC) {
                userWallet.balances.USDT = userWallet.balances.USDT || 0;
                userWallet.balances.USDC = userWallet.balances.USDC || 0;
                userWallet.lastUpdated = new Date().toISOString();
                
                // 保存更新后的钱包数据
                localStorage.setItem(WALLET_DATA_KEY, JSON.stringify(walletData));
            }
            
            return userWallet;
        }
        
        // 获取用户DZCNY余额
        function getUserDZCHYBalance(username) {
            const userWallet = getUserWallet(username);
            return userWallet.balances.DZCNY;
        }
        
        // 获取用户USDT余额
        function getUserUSDTBalance(username) {
            const userWallet = getUserWallet(username);
            return userWallet.balances.USDT;
        }
        
        // 获取用户USDC余额
        function getUserUSDCBalance(username) {
            const userWallet = getUserWallet(username);
            return userWallet.balances.USDC;
        }
        
        // 更新用户指定币种余额
        function updateUserBalance(username, currency, amount) {
            // 初始化钱包数据
            initWalletData();
            
            // 获取现有的钱包数据
            const walletData = JSON.parse(localStorage.getItem(WALLET_DATA_KEY));
            
            // 查找匹配的用户钱包
            let userWallet = walletData.wallets.find(wallet => wallet.username === username);
            
            // 如果用户没有钱包，创建一个新的
            if (!userWallet) {
                userWallet = {
                    username: username,
                    balances: {
                        DZCNY: 0,
                        USDT: 0,
                        USDC: 0
                    },
                    created: new Date().toISOString(),
                    lastUpdated: new Date().toISOString()
                };
                walletData.wallets.push(userWallet);
            }
            
            // 确保有balances对象
            if (!userWallet.balances) {
                userWallet.balances = {
                    DZCNY: userWallet.balance || 0,
                    USDT: 0,
                    USDC: 0
                };
                // 移除旧的balance字段
                delete userWallet.balance;
                delete userWallet.lockedBalance;
            }
            
            // 确保指定币种有余额字段
            if (userWallet.balances[currency] === undefined) {
                userWallet.balances[currency] = 0;
            }
            
            // 更新余额
            userWallet.balances[currency] = Math.max(0, userWallet.balances[currency] + amount); // 确保余额不为负数
            userWallet.lastUpdated = new Date().toISOString();
            
            // 保存更新后的钱包数据
            localStorage.setItem(WALLET_DATA_KEY, JSON.stringify(walletData));
            
            return userWallet.balances[currency];
        }
        
        // 更新用户DZCHY余额（兼容旧版）
        function updateUserDZCHYBalance(username, amount) {
            return updateUserBalance(username, 'DZCNY', amount);
        }
        
        // 记录交易
        function recordTransaction(username, transactionData) {
            // 交易记录存储键名
            const TRANSACTIONS_KEY = `dzchy_transactions_${username}`;
            
            // 获取现有交易记录
            let transactions = JSON.parse(localStorage.getItem(TRANSACTIONS_KEY) || '[]');
            
            // 创建完整的交易记录
            const fullTransaction = {
                id: transactionData.id || `TX${Date.now()}${Math.random().toString(36).substr(2, 9).toUpperCase()}`,
                type: transactionData.type || 'unknown',
                amount: transactionData.amount || 0,
                timestamp: transactionData.timestamp || new Date().toISOString(),
                status: transactionData.status || 'pending',
                description: transactionData.description || '',
                details: transactionData.details || {}
            };
            
            // 添加新交易记录
            transactions.push(fullTransaction);
            
            // 保存更新后的交易记录
            localStorage.setItem(TRANSACTIONS_KEY, JSON.stringify(transactions));
            
            return fullTransaction;
        }
        
        // 获取用户交易记录
        function getUserTransactions(username, options = {}) {
            const TRANSACTIONS_KEY = `dzchy_transactions_${username}`;
            let transactions = JSON.parse(localStorage.getItem(TRANSACTIONS_KEY) || '[]');
            
            // 按时间倒序排序
            transactions.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            
            // 限制返回的交易数量
            if (options.limit && typeof options.limit === 'number') {
                transactions = transactions.slice(0, options.limit);
            }
            
            return transactions;
        }
        
        // 获取交易统计信息
        function getTransactionStats(username) {
            const transactions = getUserTransactions(username);
            let totalRechargeAmount = 0;
            let totalWithdrawAmount = 0;
            
            transactions.forEach(transaction => {
                if (transaction.type === 'recharge') {
                    totalRechargeAmount += parseFloat(transaction.amount);
                } else if (transaction.type === 'withdraw') {
                    totalWithdrawAmount += parseFloat(transaction.amount);
                }
            });
            
            return {
                totalRechargeAmount,
                totalWithdrawAmount,
                transactionCount: transactions.length
            };
        }

        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化钱包数据
            initWalletData();
            
            // 检查用户是否已登录
            checkUserLogin();
            
            // 初始化钱包功能
            initWalletFeatures();
            
            // 模拟加载完成
            setTimeout(function() {
                document.getElementById('loader').classList.add('opacity-0');
                setTimeout(function() {
                    document.getElementById('loader').style.display = 'none';
                }, 500);
            }, 1500);

            // 导航栏滚动效果
            window.addEventListener('scroll', function() {
                const navbar = document.getElementById('navbar');
                if (window.scrollY > 50) {
                    navbar.classList.add('py-2', 'shadow-lg');
                    navbar.classList.remove('py-4');
                } else {
                    navbar.classList.add('py-4');
                    navbar.classList.remove('py-2', 'shadow-lg');
                }
            });

            // 移动端菜单切换
            document.getElementById('mobile-menu-btn').addEventListener('click', function() {
                const mobileMenu = document.getElementById('mobile-menu');
                mobileMenu.classList.toggle('hidden');
            });

            // 购买金额计算
            const amountInput = document.getElementById('amount');
            const totalAmountElement = document.getElementById('total-amount');
            
            amountInput.addEventListener('input', function() {
                const amount = parseFloat(this.value) || 0;
                totalAmountElement.textContent = amount.toFixed(2);
            });

            // 快捷购买金额按钮
            document.querySelectorAll('.quick-amount-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const amount = this.textContent;
                    amountInput.value = amount;
                    totalAmountElement.textContent = amount;
                });
            });

            // 模态框控制
            // 登录模态框
            document.getElementById('login-btn').addEventListener('click', function() {
                document.getElementById('login-modal').classList.replace('hidden', 'flex');
            });
            
            document.getElementById('close-login-modal').addEventListener('click', function() {
                document.getElementById('login-modal').classList.replace('flex', 'hidden');
            });

            // 注册模态框
            document.getElementById('signup-btn').addEventListener('click', function() {
                document.getElementById('signup-modal').classList.replace('hidden', 'flex');
            });
            
            document.getElementById('close-signup-modal').addEventListener('click', function() {
                document.getElementById('signup-modal').classList.replace('flex', 'hidden');
            });

            // 模态框切换
            document.getElementById('switch-to-signup').addEventListener('click', function() {
                document.getElementById('login-modal').classList.replace('flex', 'hidden');
                document.getElementById('signup-modal').classList.replace('hidden', 'flex');
            });
            
            document.getElementById('switch-to-login').addEventListener('click', function() {
                document.getElementById('signup-modal').classList.replace('flex', 'hidden');
                document.getElementById('login-modal').classList.replace('hidden', 'flex');
            });

            // 成功提示模态框
            function showSuccessModal(title, message) {
                document.getElementById('success-title').textContent = title;
                document.getElementById('success-message').textContent = message;
                document.getElementById('success-modal').classList.replace('hidden', 'flex');
            }
            
            document.getElementById('success-ok-btn').addEventListener('click', function() {
                document.getElementById('success-modal').classList.replace('flex', 'hidden');
            });

            // 钱包模态框
            document.getElementById('wallet-btn').addEventListener('click', function() {
                if (isUserLoggedIn()) {
                    loadWalletData();
                    document.getElementById('wallet-modal').classList.replace('hidden', 'flex');
                } else {
                    document.getElementById('login-modal').classList.replace('hidden', 'flex');
                }
            });
            
            document.getElementById('mobile-wallet-btn').addEventListener('click', function() {
                if (isUserLoggedIn()) {
                    loadWalletData();
                    document.getElementById('wallet-modal').classList.replace('hidden', 'flex');
                    document.getElementById('mobile-menu').classList.add('hidden');
                } else {
                    document.getElementById('login-modal').classList.replace('hidden', 'flex');
                    document.getElementById('mobile-menu').classList.add('hidden');
                }
            });
            
            document.getElementById('close-wallet-modal').addEventListener('click', function() {
                document.getElementById('wallet-modal').classList.replace('flex', 'hidden');
            });

            // 注册表单提交
            document.getElementById('signup-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const username = document.getElementById('signup-username').value.trim();
                const email = document.getElementById('signup-email').value.trim();
                const password = document.getElementById('signup-password').value;
                const confirmPassword = document.getElementById('signup-confirm-password').value;
                const agreeTerms = document.getElementById('agree-terms').checked;
                
                // 简单表单验证
                if (!username || !email || !password) {
                    alert('请填写所有必填字段');
                    return;
                }
                
                if (password !== confirmPassword) {
                    alert('两次输入的密码不一致');
                    return;
                }
                
                if (!agreeTerms) {
                    alert('请阅读并同意服务条款和隐私政策');
                    return;
                }
                
                // 调用注册函数
                const result = registerUser(username, email, password);
                
                if (result.success) {
                    showSuccessModal('注册成功', '您的账号已成功创建，请登录。');
                    document.getElementById('signup-form').reset();
                    document.getElementById('signup-modal').classList.replace('flex', 'hidden');
                    setTimeout(function() {
                        document.getElementById('login-modal').classList.replace('hidden', 'flex');
                    }, 1500);
                } else {
                    alert(result.message);
                }
            });

            // 登录表单提交
            document.getElementById('login-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const username = document.getElementById('login-username').value.trim();
                const password = document.getElementById('login-password').value;
                
                // 简单表单验证
                if (!username || !password) {
                    alert('请填写用户名和密码');
                    return;
                }
                
                // 调用登录函数
                const result = loginUser(username, password);
                
                if (result.success) {
                    // 保存用户登录状态
                    localStorage.setItem('currentUser', username);
                    
                    // 更新UI显示
                    updateUserInterface(username);
                    
                    // 关闭登录模态框
                    document.getElementById('login-modal').classList.replace('flex', 'hidden');
                    
                    // 显示成功提示
                    showSuccessModal('登录成功', `欢迎回来，${username}！`);
                } else {
                    alert(result.message);
                }
            });

            // 退出登录
            document.getElementById('logout-btn').addEventListener('click', function() {
                // 清除用户登录状态
                localStorage.removeItem('currentUser');
                
                // 更新UI显示
                updateUserInterface(null);
                
                // 显示成功提示
                showSuccessModal('退出成功', '您已安全退出账号。');
            });

            // 购买表单提交
            document.getElementById('buy-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // 检查用户是否登录
                const currentUser = localStorage.getItem('currentUser');
                if (!currentUser) {
                    document.getElementById('login-modal').classList.replace('hidden', 'flex');
                    alert('请先登录');
                    return;
                }
                
                const amount = parseFloat(document.getElementById('amount').value) || 0;
                
                if (amount <= 0) {
                    alert('请输入有效的购买数量');
                    return;
                }
                
                // 模拟购买过程
                setTimeout(function() {
                    // 更新用户余额
                    updateUserDZCHYBalance(currentUser, amount);
                    
                    // 记录交易
                    recordTransaction(currentUser, {
                        type: 'buy',
                        amount: amount,
                        timestamp: new Date().toISOString(),
                        status: 'completed',
                        description: '购买DZCHY代币'
                    });
                    
                    // 更新UI显示
                    updateWalletBalance(currentUser);
                    
                    // 清空表单
                    document.getElementById('buy-form').reset();
                    document.getElementById('total-amount').textContent = '0.00';
                    
                    // 显示成功提示
                    showSuccessModal('购买成功', `您已成功购买 ${amount} DZCHY`);
                }, 1000);
            });

            // 充值按钮
            document.getElementById('recharge-btn').addEventListener('click', function() {
                alert('充值功能即将上线，敬请期待！');
            });

            // 提现按钮
            document.getElementById('withdraw-btn').addEventListener('click', function() {
                alert('提现功能即将上线，敬请期待！');
            });
        });



        // 检查用户是否已登录
        function isUserLoggedIn() {
            return localStorage.getItem('currentUser') !== null;
        }

        // 更新用户界面
        function updateUserInterface(username) {
            const loginBtn = document.getElementById('login-btn');
            const signupBtn = document.getElementById('signup-btn');
            const logoutBtn = document.getElementById('logout-btn');
            const walletBtn = document.getElementById('wallet-btn');
            const mobileWalletBtn = document.getElementById('mobile-wallet-btn');
            
            if (username) {
                // 用户已登录
                loginBtn.classList.add('hidden');
                signupBtn.classList.add('hidden');
                logoutBtn.classList.remove('hidden');
                walletBtn.classList.remove('hidden');
                mobileWalletBtn.classList.remove('hidden');
                
                // 更新钱包余额显示
                updateWalletBalance(username);
            } else {
                // 用户未登录
                loginBtn.classList.remove('hidden');
                signupBtn.classList.remove('hidden');
                logoutBtn.classList.add('hidden');
                walletBtn.classList.add('hidden');
                mobileWalletBtn.classList.add('hidden');
                
                // 重置钱包余额显示
                document.getElementById('wallet-balance').textContent = '0 DZCHY';
                document.getElementById('mobile-wallet-balance').textContent = '0 DZCHY';
            }
        }

        // 更新钱包余额显示
        function updateWalletBalance(username) {
            const balance = getUserDZCHYBalance(username);
            document.getElementById('wallet-balance').textContent = `${balance.toFixed(2)} DZCHY`;
            document.getElementById('mobile-wallet-balance').textContent = `${balance.toFixed(2)} DZCHY`;
        }

        // 加载钱包数据
        function loadWalletData() {
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) return;
            
            // 加载余额
            const balance = getUserDZCHYBalance(currentUser);
            document.getElementById('modal-wallet-balance').textContent = balance.toFixed(2);
            document.getElementById('total-asset').textContent = balance.toFixed(2);
            
            // 加载交易统计
            const stats = getTransactionStats(currentUser);
            document.getElementById('total-recharge').textContent = stats.totalRechargeAmount.toFixed(2);
            document.getElementById('total-withdraw').textContent = stats.totalWithdrawAmount.toFixed(2);
            
            // 加载最近交易
            const transactions = getUserTransactions(currentUser, { limit: 10 });
            const transactionsContainer = document.getElementById('recent-transactions');
            
            if (transactions.length === 0) {
                transactionsContainer.innerHTML = '<div class="p-4 text-center text-white/50">暂无交易记录</div>';
            } else {
                let html = '';
                transactions.forEach(transaction => {
                    const date = new Date(transaction.timestamp).toLocaleString('zh-CN');
                    const typeClass = transaction.type === 'buy' ? 'text-success' : 
                                      transaction.type === 'recharge' ? 'text-primary' : 'text-danger';
                    const typeText = transaction.type === 'buy' ? '购买' : 
                                     transaction.type === 'recharge' ? '充值' : '提现';
                    const statusClass = transaction.status === 'completed' ? 'text-success' : 
                                        transaction.status === 'pending' ? 'text-warning' : 'text-danger';
                    const statusText = transaction.status === 'completed' ? '已完成' : 
                                       transaction.status === 'pending' ? '处理中' : '失败';
                    
                    html += `
                        <div class="p-4 flex flex-col sm:flex-row sm:items-center justify-between">
                            <div>
                                <div class="font-medium mb-1">${transaction.description || typeText}</div>
                                <div class="text-sm text-white/50">${date}</div>
                            </div>
                            <div class="mt-2 sm:mt-0 text-right">
                                <div class="font-bold ${typeClass}">${transaction.type === 'buy' || transaction.type === 'recharge' ? '+' : '-'}
${parseFloat(transaction.amount).toFixed(2)}</div>
                                <div class="text-sm ${statusClass}">${statusText}</div>
                            </div>
                        </div>
                    `;
                });
                transactionsContainer.innerHTML = html;
            }
        }

        // 平滑滚动
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // 检查用户登录状态
        function checkUserLogin() {
            const currentUser = localStorage.getItem('currentUser');
            updateUserInterface(currentUser);
            
            if (currentUser) {
                loadWalletBalances(currentUser);
                loadTransactionHistory(currentUser);
            } else {
                // 清空钱包显示
                document.getElementById('wallet-dzcny-balance').textContent = '0.00';
                document.getElementById('wallet-usdt-balance').textContent = '0.00';
                document.getElementById('wallet-usdc-balance').textContent = '0.00';
                document.getElementById('transaction-history').innerHTML = '<tr><td colspan="5" class="py-8 text-center text-white/50">请先登录查看交易记录</td></tr>';
            }
        }

        // 加载钱包余额
        function loadWalletBalances(username) {
            if (!username) return;
            
            // 获取各种稳定币余额
            const dzcnyBalance = getUserDZCHYBalance(username) || 0;
            const usdtBalance = getUserUSDTBalance(username) || 0;
            const usdcBalance = getUserUSDCBalance(username) || 0;
            
            // 更新显示
            document.getElementById('wallet-dzcny-balance').textContent = dzcnyBalance.toFixed(2);
            document.getElementById('wallet-usdt-balance').textContent = usdtBalance.toFixed(6);
            document.getElementById('wallet-usdc-balance').textContent = usdcBalance.toFixed(6);
        }

        // 执行稳定币兑换
        function exchangeStablecoin(username, fromCurrency, toCurrency, amount) {
            // 获取当前用户余额
            const currentBalance = getUserWallet(username).balances[fromCurrency] || 0;
            
            // 检查余额是否充足
            if (currentBalance < amount) {
                console.log('余额不足');
                return false;
            }
            
            // 获取汇率
            const rate = getExchangeRate(fromCurrency, toCurrency);
            if (!rate) {
                console.log('获取汇率失败');
                return false;
            }
            
            // 计算兑换后的金额
            const exchangeAmount = amount * rate;
            
            // 更新余额（扣除原币种，增加目标币种）
            updateUserBalance(username, fromCurrency, -amount);
            updateUserBalance(username, toCurrency, exchangeAmount);
            
            // 记录交易
            recordTransaction(username, {
                type: 'exchange',
                amount: exchangeAmount,
                timestamp: new Date().toISOString(),
                status: 'completed',
                description: `兑换 ${amount} ${fromCurrency} 至 ${exchangeAmount.toFixed(6)} ${toCurrency}`,
                details: {
                    fromCurrency: fromCurrency,
                    toCurrency: toCurrency,
                    fromAmount: amount,
                    exchangeRate: rate
                }
            });
            
            return true;
        }
        
        // 加载交易记录
        function loadTransactionHistory(username) {
            if (!username) return;
            
            const transactionFilter = document.getElementById('transaction-filter');
            const filterType = transactionFilter ? transactionFilter.value : 'all';
            
            // 获取交易记录
            let transactions = getUserTransactions(username) || [];
            
            // 过滤交易记录
            if (filterType !== 'all') {
                transactions = transactions.filter(t => t.type === filterType);
            }
            
            const transactionHistory = document.getElementById('transaction-history');
            
            if (transactions.length === 0) {
                transactionHistory.innerHTML = '<tr><td colspan="5" class="py-8 text-center text-white/50">暂无交易记录</td></tr>';
                return;
            }
            
            // 按时间倒序排序
            transactions.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            
            // 生成交易记录表格
            let html = '';
            transactions.forEach(transaction => {
                const date = new Date(transaction.timestamp).toLocaleString();
                const typeClass = transaction.type === 'buy' ? 'text-primary' : 
                                transaction.type === 'recharge' ? 'text-success' : 
                                transaction.type === 'withdraw' ? 'text-danger' : 
                                transaction.type === 'exchange' ? 'text-accent' : 'text-white';
                const typeText = transaction.type === 'buy' ? '购买' : 
                                transaction.type === 'recharge' ? '充值' : 
                                transaction.type === 'withdraw' ? '提现' : 
                                transaction.type === 'exchange' ? '兑换' : '其他';
                const statusClass = transaction.status === 'completed' ? 'text-success' : 
                                    transaction.status === 'pending' ? 'text-warning' : 'text-danger';
                const statusText = transaction.status === 'completed' ? '已完成' : 
                                    transaction.status === 'pending' ? '处理中' : '失败';
                
                html += `
                    <tr class="border-b border-white/5 hover:bg-white/5 transition-colors">
                        <td class="py-4 px-4">${date}</td>
                        <td class="py-4 px-4"><span class="${typeClass}">${typeText}</span></td>
                        <td class="py-4 px-4">${transaction.description}</td>
                        <td class="py-4 px-4 text-right">${transaction.amount}</td>
                        <td class="py-4 px-4 text-right"><span class="${statusClass}">${statusText}</span></td>
                    </tr>
                `;
            });
            
            transactionHistory.innerHTML = html;
        }

        // 获取汇率
        function getExchangeRate(fromCurrency, toCurrency) {
            // 根据需求，1人民币兑换1DZCNY
            // 假设其他稳定币汇率如下（实际项目中应该从API获取实时汇率）
            const rates = {
                'DZCNY': {'USDT': 0.1389, 'USDC': 0.1389, 'DZCNY': 1},
                'USDT': {'DZCNY': 7.2, 'USDC': 1.001, 'USDT': 1},
                'USDC': {'DZCNY': 7.19, 'USDT': 0.999, 'USDC': 1}
            };
            
            if (rates[fromCurrency] && rates[fromCurrency][toCurrency] !== undefined) {
                return rates[fromCurrency][toCurrency];
            }
            
            return null;
        }
        
        // 计算兑换金额
        function calculateExchangeAmount() {
            const fromAmount = parseFloat(document.getElementById('from-amount').value);
            const fromCurrency = document.getElementById('from-currency').value;
            const toCurrency = document.getElementById('to-currency').value;
            
            if (isNaN(fromAmount) || fromAmount <= 0) {
                document.getElementById('to-amount').value = '';
                return;
            }
            
            if (fromCurrency === toCurrency) {
                document.getElementById('to-amount').value = fromAmount.toFixed(6);
                return;
            }
            
            // 获取汇率并计算兑换金额
            const rate = getExchangeRate(fromCurrency, toCurrency);
            if (!rate) {
                document.getElementById('to-amount').value = '';
                return;
            }
            
            const toAmount = fromAmount * rate;
            document.getElementById('to-amount').value = toAmount.toFixed(6);
            
            // 更新显示的汇率
            updateExchangeRateDisplay(fromCurrency, toCurrency, rate);
        }

        // 更新显示的汇率
        function updateExchangeRateDisplay(fromCurrency, toCurrency, rate) {
            const rateText = document.getElementById('exchange-rate');
            rateText.textContent = `当前汇率: 1 ${fromCurrency} = ${rate.toFixed(6)} ${toCurrency}`;
        }

        // 初始化钱包功能
        function initWalletFeatures() {
            // 绑定兑换表单事件
            const exchangeForm = document.getElementById('exchange-form');
            if (exchangeForm) {
                exchangeForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    
                    const currentUser = localStorage.getItem('currentUser');
                    if (!currentUser) {
                        document.getElementById('login-modal').classList.replace('hidden', 'flex');
                        alert('请先登录后再进行兑换');
                        return;
                    }
                    
                    const fromAmount = parseFloat(document.getElementById('from-amount').value);
                    const fromCurrency = document.getElementById('from-currency').value;
                    const toCurrency = document.getElementById('to-currency').value;
                    
                    if (isNaN(fromAmount) || fromAmount <= 0) {
                        alert('请输入有效的兑换金额');
                        return;
                    }
                    
                    if (fromCurrency === toCurrency) {
                        alert('请选择不同的兑换币种');
                        return;
                    }
                    
                    try {
                        // 执行兑换
                        const success = exchangeStablecoin(currentUser, fromCurrency, toCurrency, fromAmount);
                        
                        if (success) {
                            alert('兑换成功');
                            // 清空输入框
                            document.getElementById('from-amount').value = '';
                            document.getElementById('to-amount').value = '';
                            // 重新加载余额和交易记录
                            loadWalletBalances(currentUser);
                            loadTransactionHistory(currentUser);
                        } else {
                            alert('兑换失败，请检查余额是否充足');
                        }
                    } catch (error) {
                        console.error('兑换失败:', error);
                        alert('兑换过程中发生错误');
                    }
                });
                
                // 绑定输入和选择事件
                const fromAmountInput = document.getElementById('from-amount');
                const fromCurrencySelect = document.getElementById('from-currency');
                const toCurrencySelect = document.getElementById('to-currency');
                
                if (fromAmountInput) fromAmountInput.addEventListener('input', calculateExchangeAmount);
                if (fromCurrencySelect) fromCurrencySelect.addEventListener('change', calculateExchangeAmount);
                if (toCurrencySelect) toCurrencySelect.addEventListener('change', calculateExchangeAmount);
            }
            
            // 绑定交易筛选事件
            const transactionFilter = document.getElementById('transaction-filter');
            if (transactionFilter) {
                transactionFilter.addEventListener('change', () => {
                    const currentUser = localStorage.getItem('currentUser');
                    if (currentUser) {
                        loadTransactionHistory(currentUser);
                    }
                });
            }
        }

        // 页面加载完成后隐藏加载动画
        window.addEventListener('load', function() {
            const loader = document.getElementById('loader');
            setTimeout(function() {
                loader.classList.add('opacity-0');
                setTimeout(function() {
                    loader.classList.add('hidden');
                }, 500);
            }, 1000);
        });
    </script>
</body>
</html>